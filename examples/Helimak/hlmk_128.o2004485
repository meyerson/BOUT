TACC: Setting memory limits for job 2004485 to unlimited KB
TACC: Dumping job script:
--------------------------------------------------------------------------------
#!/bin/bash

NO_ARGS=0 
OPTERROR=65

if [ $# -eq "$NO_ARGS" ]  # Script invoked with no command-line args?
then
    NP=128
    MPIEXEC="mpirun -np"

fi  
# Usage: scriptname -options
# Note: dash (-) necessary

while getopts ":n:np" Option
do
  case $Option in
    n ) MPIEXEC="mpirun -np";NP=$OPTARG;;
    * ) ;;   # DEFAULT
  esac
done

#-compile/build local executable
#make

#-run the case       
echo Running with NP = $NP       

rm -rf data*

llist=( -0.10 0.10 )

for lval in ${llist[@]}
do
  mkdir data_${lval}
  ln -s data_${lval} data
  sed "s/..\/Helimak\/Ln_lam\/Helimak_32x32_0.10_lam_n.nc/..\/Helimak\/Ln_lam\/Helimak_32x32_${lval}_lam_n.nc/g" BOUT.inp > data/BOUT.inp
  #if [ $zval -lt 128 ]
      #then
      # reduce time-step. At large times these cases produce noise
      #sed "s/TIMESTEP = 5e3/TIMESTEP = 1e3/g" data/BOUT.inp > data/tmp
      #mv -f data/tmp data/BOUT.inp
  #fi
      
  #$MPIEXEC $NP ./2fluid
  ibrun -n $NP -o 0  ./2fluid 
  wait
  rm -f data
done

#-check the result
#idl runidl.pro
--------------------------------------------------------------------------------
TACC: Done.
Running with NP = 128
TACC: Starting up job 2004485
TACC: Setting up parallel environment for OpenMPI mpirun.
TACC: Setup complete. Running job script.
TACC: starting parallel tasks...
Warning: Permanently added 'i115-411.ranger.tacc.utexas.edu' (RSA) to the list of known hosts.
Warning: Permanently added 'i115-206.ranger.tacc.utexas.edu' (RSA) to the list of known hosts.
Warning: Permanently added 'i182-307.ranger.tacc.utexas.edu' (RSA) to the list of known hosts.
Warning: Permanently added 'i115-204.ranger.tacc.utexas.edu' (RSA) to the list of known hosts.
Warning: Permanently added 'i115-402.ranger.tacc.utexas.edu' (RSA) to the list of known hosts.

BOUT++ version 0.80
MD5 checksum: 3171552fdd9bbc3012a16dfd51a41f2d
Code compiled on May 18 2011 at 00:02:00
B.Dudson (University of York), M.Umansky (LLNL) 2007
Based on BOUT by Xueqiao Xu, 1999

Compile-time options:
	Checking enabled, level 2
	Signal handling enabled
	PDB support disabled
	netCDF support enabled

Run started at  : Fri Jun 24 00:18:02 2011

Processor number: 0 of 128

Reading options file data/BOUT.inp
	Option NOUT = 2
	Option TIMESTEP = 1.000000e-02
	Option dump_float = true (default)
	Option ShiftXderivs = false
	Option IncIntShear = false (default)
	Option TwistShift = false
	Option ShiftOrder = 0 (default)
	Option TwistOrder = 0 (default)
	Option non_uniform = false (default)
	Option MZ = 33
	Option zperiod = 1 (default)
	Option ZMIN = 0.000000e+00
	Option ZMAX = 1.000000e+00
	Option MXG = 2
	Option MYG = 2
	Option BoundaryOnCell = false (default)
	Option StaggerGrids = false (default)
	Option NXPE = 8
Setting X differencing methods
	First       :  Second order central (C2)
	Second      :  Second order central (C2)
	Upwind      :  Third order WENO (W3)
Setting Y differencing methods
	First       :  Second order central (C2)
	Second      :  Second order central (C2)
	Upwind      :  Third order WENO (W3)
Setting Z differencing methods
	First       :  Fourth order central (C4)
	Second      :  Fourth order central (C4)
	Upwind      :  Third order WENO (W3)
Setting grid format
	Using NetCDF format for file '../Helimak/Ln_lam/Helimak_32x32_-0.10_lam_n.nc'
Loading topology
	Grid size: 36 by 32
	WARNING: Number of inner y points 'ny_inner' not found. Setting to 16
	EQUILIBRIUM IS SINGLE NULL (SND) 
	Option xperiodic = false (default)
Connection between top of Y processor 15 and bottom of 0 in range 0 <= x < 36
=> This processor sending in down
WARNING adding connection: poloidal index -1 out of range
	MYPE_IN_CORE = 1
	DXS = 8, DIN = 120. DOUT = -1
	UXS = 0, UIN = -1. UOUT = 8
	XIN = -1, XOUT = 1
	Twist-shift: DI 
	WARNING: Could not read 'g11' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g22' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g33' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g12' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'g13' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'g23' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'zShift' from grid. Setting to 0.000000e+00
	WARNING: Z shift for radial derivatives not found
	WARNING: Twist-shift angle 'ShiftAngle' not found. Setting to zero
Calculating differential geometry terms
	Maximum error in diagonal inversion is 0.000000e+00
	Maximum error in off-diagonal inversion is 0.000000e+00
	WARNING: Could not read 'J' from grid. Setting to 0.000000e+00
	WARNING: Jacobian 'J' not found. Calculating from metric tensor
	Maximum difference in Bxy is 8.995012e-01
	Communicating connection terms
Initialising comms
	Option comms / async = false (default)
	Option comms / pre_post = false (default)
	done
Setting file formats
	Using NetCDF format for file 'data/BOUT.dmp.0.nc'
Initialising Laplacian inversion routines
	Option comms / async = true (default)
	Option laplace / filter = 2.000000e-01 (default)
	Option laplace / low_mem = false (default)
	Option laplace / use_pdd = false (default)
	Option laplace / all_terms = false (default)
	Option laplace / laplace_nonuniform = false (default)
	Using parallel Thomas algorithm
	Option laplace / max_mode = 13 (default)
Initialising physics module
Solving 6-variable 2-fluid equations
	WARNING: Could not read 'Ve0' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'rho0' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'Ajpar0' from grid. Setting to 0.000000e+00
	Reading contravariant vector bxcv
	Option 2fluid / AA = 3.600000e+01
	Option 2fluid / ZZ = 1.000000e+00
	Option 2fluid / estatic = true
	Option 2fluid / ZeroElMass = true
	Option 2fluid / zeff = 1.000000e+00 (default)
	Option 2fluid / nu_perp = 1.000000e-20
	Option 2fluid / ShearFactor = 0.000000e+00
	Option 2fluid / phi_flags = 0
	Option 2fluid / apar_flags = 0
	Option rho / evolve = true (default)
	Option Te / evolve = false
	Option Ni / evolve = true (default)
	Option Ajpar / evolve = false
	Option Vi / evolve = true (default)
	Option Ti / evolve = false
	Option V_drift / monitor = true (default)
    ****NOTE: input from BOUT, Z length needs to be divided by 1.652949e+01
	Normalising to rho_s = 1.925709e-02
rho inner x boundary: Zero gradient
rho outer x boundary: Zero gradient
rho lower y boundary: NONE
rho upper y boundary: NONE
Initial profile global options
	Option Ballooning = false (default)
	Option ShiftInitial = false (default)

rho
Ni inner x boundary: Zero gradient
Ni outer x boundary: Zero gradient
Ni lower y boundary: NONE
Ni upper y boundary: NONE
ni
Vi inner x boundary: Zero gradient
Vi outer x boundary: Zero gradient
Vi lower y boundary: NONE
Vi upper y boundary: NONE
vi
Initialising solver
Archiving restart files every 20 iterations
	Using NetCDF format for file 'nc'
Initialising PVODE solver
	Boundary region inner X
	3d fields = 3, 2d fields = 0 neq=110592, local_N=1152
	Option solver / mudq = 18 (default)
	Option solver / mldq = 18 (default)
	Option solver / mukeep = 0 (default)
	Option solver / mlkeep = 0 (default)
	Option solver / ATOL = 1.000000e-05
	Option solver / RTOL = 1.000000e-02
	Option solver / use_precon = false (default)
	Option solver / precon_dimens = 50 (default)
	Option solver / precon_tol = 1.000000e-04 (default)
	Option solver / pvode_mxstep = 15000
	Option fft / fft_measure = false (default)
Running simulation

	Option wall_limit = -1.000000e+00 (default)
Sim Time  |  RHS evals  | Wall Time |  Calc    Inv   Comm    I/O   SOLVER

1.000e-02         41        -     -    -    -    -    - 
|  Step 1 of 2. Elapsed 0:00:00.0 ETA 0:00:00.02.000e-02         11       2.72e+00    16.8    0.1    0.9    0.5   81.8
/  Step 2 of 2. Elapsed 0:00:02.7 ETA 0:00:00.0
Run finished at  : Fri Jun 24 00:18:18 2011

Run time : 16 s
TACC: Shutting down parallel environment.
TACC: Shutdown complete. Exiting.
TACC: Starting up job 2004485
TACC: Setting up parallel environment for OpenMPI mpirun.
TACC: Setup complete. Running job script.
TACC: starting parallel tasks...

BOUT++ version 0.80
MD5 checksum: 3171552fdd9bbc3012a16dfd51a41f2d
Code compiled on May 18 2011 at 00:02:00
B.Dudson (University of York), M.Umansky (LLNL) 2007
Based on BOUT by Xueqiao Xu, 1999

Compile-time options:
	Checking enabled, level 2
	Signal handling enabled
	PDB support disabled
	netCDF support enabled

Run started at  : Fri Jun 24 00:18:22 2011

Processor number: 0 of 128

Reading options file data/BOUT.inp
	Option NOUT = 2
	Option TIMESTEP = 1.000000e-02
	Option dump_float = true (default)
	Option ShiftXderivs = false
	Option IncIntShear = false (default)
	Option TwistShift = false
	Option ShiftOrder = 0 (default)
	Option TwistOrder = 0 (default)
	Option non_uniform = false (default)
	Option MZ = 33
	Option zperiod = 1 (default)
	Option ZMIN = 0.000000e+00
	Option ZMAX = 1.000000e+00
	Option MXG = 2
	Option MYG = 2
	Option BoundaryOnCell = false (default)
	Option StaggerGrids = false (default)
	Option NXPE = 8
Setting X differencing methods
	First       :  Second order central (C2)
	Second      :  Second order central (C2)
	Upwind      :  Third order WENO (W3)
Setting Y differencing methods
	First       :  Second order central (C2)
	Second      :  Second order central (C2)
	Upwind      :  Third order WENO (W3)
Setting Z differencing methods
	First       :  Fourth order central (C4)
	Second      :  Fourth order central (C4)
	Upwind      :  Third order WENO (W3)
Setting grid format
	Using NetCDF format for file '../Helimak/Ln_lam/Helimak_32x32_0.10_lam_n.nc'
Loading topology
	Grid size: 36 by 32
	WARNING: Number of inner y points 'ny_inner' not found. Setting to 16
	EQUILIBRIUM IS SINGLE NULL (SND) 
	Option xperiodic = false (default)
Connection between top of Y processor 15 and bottom of 0 in range 0 <= x < 36
=> This processor sending in down
WARNING adding connection: poloidal index -1 out of range
	MYPE_IN_CORE = 1
	DXS = 8, DIN = 120. DOUT = -1
	UXS = 0, UIN = -1. UOUT = 8
	XIN = -1, XOUT = 1
	Twist-shift: DI 
	WARNING: Could not read 'g11' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g22' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g33' from grid. Setting to 1.000000e+00
	WARNING: Could not read 'g12' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'g13' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'g23' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'zShift' from grid. Setting to 0.000000e+00
	WARNING: Z shift for radial derivatives not found
	WARNING: Twist-shift angle 'ShiftAngle' not found. Setting to zero
Calculating differential geometry terms
	Maximum error in diagonal inversion is 0.000000e+00
	Maximum error in off-diagonal inversion is 0.000000e+00
	WARNING: Could not read 'J' from grid. Setting to 0.000000e+00
	WARNING: Jacobian 'J' not found. Calculating from metric tensor
	Maximum difference in Bxy is 8.995012e-01
	Communicating connection terms
Initialising comms
	Option comms / async = false (default)
	Option comms / pre_post = false (default)
	done
Setting file formats
	Using NetCDF format for file 'data/BOUT.dmp.0.nc'
Initialising Laplacian inversion routines
	Option comms / async = true (default)
	Option laplace / filter = 2.000000e-01 (default)
	Option laplace / low_mem = false (default)
	Option laplace / use_pdd = false (default)
	Option laplace / all_terms = false (default)
	Option laplace / laplace_nonuniform = false (default)
	Using parallel Thomas algorithm
	Option laplace / max_mode = 13 (default)
Initialising physics module
Solving 6-variable 2-fluid equations
	WARNING: Could not read 'Ve0' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'rho0' from grid. Setting to 0.000000e+00
	WARNING: Could not read 'Ajpar0' from grid. Setting to 0.000000e+00
	Reading contravariant vector bxcv
	Option 2fluid / AA = 3.600000e+01
	Option 2fluid / ZZ = 1.000000e+00
	Option 2fluid / estatic = true
	Option 2fluid / ZeroElMass = true
	Option 2fluid / zeff = 1.000000e+00 (default)
	Option 2fluid / nu_perp = 1.000000e-20
	Option 2fluid / ShearFactor = 0.000000e+00
	Option 2fluid / phi_flags = 0
	Option 2fluid / apar_flags = 0
	Option rho / evolve = true (default)
	Option Te / evolve = false
	Option Ni / evolve = true (default)
	Option Ajpar / evolve = false
	Option Vi / evolve = true (default)
	Option Ti / evolve = false
	Option V_drift / monitor = true (default)
    ****NOTE: input from BOUT, Z length needs to be divided by 1.652949e+01
	Normalising to rho_s = 1.925709e-02
rho inner x boundary: Zero gradient
rho outer x boundary: Zero gradient
rho lower y boundary: NONE
rho upper y boundary: NONE
Initial profile global options
	Option Ballooning = false (default)
	Option ShiftInitial = false (default)

rho
Ni inner x boundary: Zero gradient
Ni outer x boundary: Zero gradient
Ni lower y boundary: NONE
Ni upper y boundary: NONE
ni
Vi inner x boundary: Zero gradient
Vi outer x boundary: Zero gradient
Vi lower y boundary: NONE
Vi upper y boundary: NONE
vi
Initialising solver
Archiving restart files every 20 iterations
	Using NetCDF format for file 'nc'
Initialising PVODE solver
	Boundary region inner X
	3d fields = 3, 2d fields = 0 neq=110592, local_N=1152
	Option solver / mudq = 18 (default)
	Option solver / mldq = 18 (default)
	Option solver / mukeep = 0 (default)
	Option solver / mlkeep = 0 (default)
	Option solver / ATOL = 1.000000e-05
	Option solver / RTOL = 1.000000e-02
	Option solver / use_precon = false (default)
	Option solver / precon_dimens = 50 (default)
	Option solver / precon_tol = 1.000000e-04 (default)
	Option solver / pvode_mxstep = 15000
	Option fft / fft_measure = false (default)
Running simulation

	Option wall_limit = -1.000000e+00 (default)
Sim Time  |  RHS evals  | Wall Time |  Calc    Inv   Comm    I/O   SOLVER

1.000e-02         89        -     -    -    -    -    - 
|  Step 1 of 2. Elapsed 0:00:00.0 ETA 0:00:00.02.000e-02         28       4.44e+00    34.8    0.1    0.4    0.3   64.4
/  Step 2 of 2. Elapsed 0:00:04.4 ETA 0:00:00.0
Run finished at  : Fri Jun 24 00:18:43 2011

Run time : 21 s
TACC: Shutting down parallel environment.
TACC: Shutdown complete. Exiting.
TACC: Cleaning up after job: 2004485
TACC: Done.
