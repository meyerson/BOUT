TACC: Setting memory limits for job 2004443 to unlimited KB
TACC: Dumping job script:
--------------------------------------------------------------------------------
#!/bin/bash

NO_ARGS=0 
OPTERROR=65

if [ $# -eq "$NO_ARGS" ]  # Script invoked with no command-line args?
then
    NP=4
    MPIEXEC="mpirun -np"

fi  
# Usage: scriptname -options
# Note: dash (-) necessary

while getopts ":n:np" Option
do
  case $Option in
    n ) MPIEXEC="mpirun -np";NP=$OPTARG;;
    * ) ;;   # DEFAULT
  esac
done

#-compile/build local executable
#make

#-run the case       
echo Running with NP = $NP       

rm -rf data*

llist=( -0.10 0.10 )

for lval in ${llist[@]}
do
  mkdir data_${lval}
  ln -s data_${lval} data
  sed "s/..\/Helimak\/Ln_lam\/Helimak_32x32_0.10_lam_n.nc/..\/Helimak\/Ln_lam\/Helimak_32x32_${lval}_lam_n.nc/g" BOUT.inp > data/BOUT.inp
  #if [ $zval -lt 128 ]
      #then
      # reduce time-step. At large times these cases produce noise
      #sed "s/TIMESTEP = 5e3/TIMESTEP = 1e3/g" data/BOUT.inp > data/tmp
      #mv -f data/tmp data/BOUT.inp
  #fi
      
  #$MPIEXEC $NP ./2fluid
  ibrun -n $NP -o 0  ./2fluid 
  wait
  rm -f data
done

#-check the result
#idl runidl.pro
--------------------------------------------------------------------------------
TACC: Done.
Running with NP = 4
TACC: Starting up job 2004443
TACC: Setting up parallel environment for OpenMPI mpirun.
TACC: Setup complete. Running job script.
TACC: starting parallel tasks...

BOUT++ version 0.80
MD5 checksum: 3171552fdd9bbc3012a16dfd51a41f2d
Code compiled on May 18 2011 at 00:02:00
B.Dudson (University of York), M.Umansky (LLNL) 2007
Based on BOUT by Xueqiao Xu, 1999

Compile-time options:
	Checking enabled, level 2
	Signal handling enabled
	PDB support disabled
	netCDF support enabled

Run started at  : Thu Jun 23 23:32:59 2011

Processor number: 0 of 4

Reading options file data/BOUT.inp
	Option NOUT = 2
	Option TIMESTEP = 1.000000e-02
	Option dump_float = true (default)
	Option ShiftXderivs = false
	Option IncIntShear = false (default)
	Option TwistShift = false
	Option ShiftOrder = 0 (default)
	Option TwistOrder = 0 (default)
	Option non_uniform = false (default)
	Option MZ = 33
	Option zperiod = 1 (default)
	Option ZMIN = 0.000000e+00
	Option ZMAX = 1.000000e+00
	Option MXG = 2
	Option MYG = 2
	Option BoundaryOnCell = false (default)
	Option StaggerGrids = false (default)
	Option NXPE = 8
Error: Number of processors (4) not divisible by NPs in x direction (8). Aborting
--------------------------------------------------------------------------
mpirun has exited due to process rank 1 with PID 22804 on
node i115-401.ranger.tacc.utexas.edu exiting without calling "finalize". This may
have caused other processes in the application to be
terminated by signals sent by mpirun (as reported here).
--------------------------------------------------------------------------
TACC: MPI job exited with code: 1
TACC: Shutting down parallel environment.
TACC: Shutdown complete. Exiting.
TACC: Starting up job 2004443
TACC: Setting up parallel environment for OpenMPI mpirun.
TACC: Setup complete. Running job script.
TACC: starting parallel tasks...

BOUT++ version 0.80
MD5 checksum: 3171552fdd9bbc3012a16dfd51a41f2d
Code compiled on May 18 2011 at 00:02:00
B.Dudson (University of York), M.Umansky (LLNL) 2007
Based on BOUT by Xueqiao Xu, 1999

Compile-time options:
	Checking enabled, level 2
	Signal handling enabled
	PDB support disabled
	netCDF support enabled

Run started at  : Thu Jun 23 23:33:00 2011

Processor number: 0 of 4

Reading options file data/BOUT.inp
	Option NOUT = 2
	Option TIMESTEP = 1.000000e-02
	Option dump_float = true (default)
	Option ShiftXderivs = false
	Option IncIntShear = false (default)
	Option TwistShift = false
	Option ShiftOrder = 0 (default)
	Option TwistOrder = 0 (default)
	Option non_uniform = false (default)
	Option MZ = 33
	Option zperiod = 1 (default)
	Option ZMIN = 0.000000e+00
	Option ZMAX = 1.000000e+00
	Option MXG = 2
	Option MYG = 2
	Option BoundaryOnCell = false (default)
	Option StaggerGrids = false (default)
	Option NXPE = 8
Error: Number of processors (4) not divisible by NPs in x direction (8). Aborting
--------------------------------------------------------------------------
mpirun has exited due to process rank 0 with PID 22879 on
node i115-401.ranger.tacc.utexas.edu exiting without calling "finalize". This may
have caused other processes in the application to be
terminated by signals sent by mpirun (as reported here).
--------------------------------------------------------------------------
TACC: MPI job exited with code: 1
TACC: Shutting down parallel environment.
TACC: Shutdown complete. Exiting.
TACC: Cleaning up after job: 2004443
TACC: Done.
